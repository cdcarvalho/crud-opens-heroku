{"version":3,"sources":["_services/auth.ts","_services/api.ts","_services/login/loginService.ts","_components/public/login/Login.tsx","_components/admin/header/Header.tsx","_components/admin/dashboard/Dashboard.tsx","_services/user/userService.ts","_components/admin/user/ListUser.tsx","_components/admin/user/CreateUser.tsx","_components/admin/user/EditUser.tsx","routes.tsx","App.tsx","index.tsx"],"names":["valid","loginService","LoginService","getToken","localStorage","getItem","isAuthenticated","setInterval","isValid","alert","a","tokenValid","api","axios","create","baseURL","credentialsCrypto","get","headers","Authorization","then","logged","setItem","data","token","Login","history","useHistory","useState","username","password","inputData","setInputData","changeInput","event","target","name","value","preventDefault","Buffer","from","toString","login","push","console","log","id","className","onSubmit","type","placeholder","maxLength","required","onChange","to","Header","Navbar","color","dark","NavbarBrand","href","Nav","NavItem","onClick","clear","Dashboard","UserService","users","catch","delete","error","ListUser","setUsers","userService","getUsers","useEffect","findUser","deleteBy","persist","Table","bordered","map","user","key","_id","scope","style","width","email","Button","e","CreateCategory","post","goBack","Container","Form","FormGroup","Label","Input","EditCategory","useParams","put","response","loadUser","PrivateRoute","Component","component","rest","render","props","pathname","state","location","Routes","path","exact","CreateUser","EditUser","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd417aa4.chunk.js","sourcesContent":["import LoginService from './login/loginService';\r\n\r\nconst loginService = new LoginService();\r\n\r\nlet valid;\r\n\r\nexport const getToken = () => localStorage.getItem('token');\r\nexport const isAuthenticated = () => {\r\n    setInterval(isValid, 50000);\r\n    if (localStorage.getItem('token-valid') !== 'true') {\r\n        alert('Sessão expirada. Faça o login novamente!')\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nconst isValid = async () => {\r\n    valid = await loginService.tokenValid();\r\n    return valid\r\n}","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://opens-app.herokuapp.com/api/'\r\n});\r\n\r\nexport default api;","import api from '../api'\r\nimport { getToken } from '../auth'\r\n\r\nexport class LoginService {\r\n  // eslint-disable-next-line\r\n  constructor() { }\r\n\r\n  async login(credentialsCrypto) {\r\n    try {\r\n      await api.get('authenticate', {\r\n        headers: {\r\n          Authorization: `Basic ${credentialsCrypto}`\r\n        }\r\n      }).then(logged => {\r\n        localStorage.setItem('token', logged.data.token)\r\n        localStorage.setItem('token-valid', 'true')\r\n      })\r\n    } catch (error) {\r\n      alert('Login ou Senha inválido.')\r\n    }\r\n  }\r\n\r\n  async tokenValid() {\r\n    try {\r\n      const valid = await api.get('token-valid', {\r\n        headers: {\r\n          Authorization: `Basic ${getToken()}`\r\n        }\r\n      }).then(logged => {\r\n        localStorage.setItem('token-valid', logged.data)\r\n        return logged.data\r\n      })\r\n      return valid\r\n    } catch (error) {\r\n      localStorage.setItem('token-valid', error.data)\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\nexport default LoginService\r\n","import React, { useState, ChangeEvent, FormEvent } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { Form, FormGroup, Label, Input, Button, Container } from 'reactstrap';\r\nimport './login.css';\r\nimport LoginService from '../../../_services/login/loginService';\r\n\r\nconst Login = () => {\r\n\r\n    const loginService = new LoginService();\r\n    const history = useHistory();\r\n\r\n    const [inputData, setInputData] = useState({\r\n        username: '',\r\n        password: '',\r\n    });\r\n\r\n    function changeInput(event: ChangeEvent<HTMLInputElement>) {\r\n        const { name, value } = event.target;\r\n        setInputData({ ...inputData, [name]: value });\r\n    }\r\n\r\n    async function changeForm(event: FormEvent) {\r\n        event.preventDefault();\r\n\r\n        const {\r\n            username,\r\n            password,\r\n        } = inputData;\r\n\r\n        const credentialsCrypto = Buffer.from(`${username}:${password}`, 'utf8').toString('base64')\r\n        try {\r\n            await loginService.login(credentialsCrypto);\r\n            history.push('/dashboard');\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div id=\"page-login\">\r\n            <Container>\r\n                <div id=\"page-create-user\" className=\"body_form\">\r\n                    <Form onSubmit={changeForm}>\r\n                        <FormGroup>\r\n                            <Label className=\"strong\">Login:</Label>\r\n                            <Input\r\n                                id=\"username\"\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                placeholder=\"Login\"\r\n                                maxLength={11}\r\n                                required\r\n                                onChange={changeInput}></Input>\r\n\r\n                            <Label className=\"strong\">Senha:</Label>\r\n                            <Input\r\n                                id=\"nome\"\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"Senha\"\r\n                                required\r\n                                onChange={changeInput}></Input>\r\n                        </FormGroup>\r\n\r\n                        <Link id=\"cancelar\" to=\"/\" className=\"btn btn-primary link-menu\">Cancelar</Link>\r\n                        <Button type=\"submit\">Logar</Button>\r\n                    </Form>\r\n\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Navbar, Nav, NavItem, NavbarBrand } from 'reactstrap';\r\n\r\nimport './header.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nconst Header = () => {\r\n    function logout() {\r\n        localStorage.clear();\r\n    }\r\n\r\n    return (\r\n        <div id=\"header\" className=\"body\">\r\n\r\n            <Navbar color=\"dark\" dark>\r\n                <NavbarBrand href=\"/dashboard\">Inicio</NavbarBrand>\r\n                <Nav>\r\n                    <NavItem>\r\n                        <Link to=\"/user/list\" className=\"btn btn-primary link-menu\">Usuários</Link>\r\n                    </NavItem>\r\n                    <NavItem>\r\n                        <Link to=\"/\" onClick={() => logout()} className=\"btn btn-secondary link-menu\">Sair</Link>\r\n                    </NavItem>\r\n                </Nav>\r\n            </Navbar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport Header from '../header/Header';\r\n\r\nimport './dashboard.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\n\r\nconst Dashboard = () => {\r\n    return (\r\n        <div id=\"dashbord\" className=\"body\">\r\n            <Header />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;","import api from '../api'\r\nimport { getToken } from '../auth'\r\nimport User from '../../models/User'\r\n\r\nexport class UserService {\r\n  // eslint-disable-next-line\r\n  constructor() { }\r\n\r\n  async getUsers(): Promise<User[]> {\r\n    try {\r\n      const users = api.get('users', {\r\n        headers: {\r\n          Authorization: `Basic ${getToken()}`\r\n        }\r\n      }).then(users => {\r\n        return users.data;\r\n      }).catch(() => {\r\n        alert('Nenhum registro encontrado.')\r\n        return [];\r\n      })\r\n      return users;\r\n    } catch (error) {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async delete(id: number) {\r\n    try {\r\n      await api.delete(`user/${id}`, {\r\n        headers: {\r\n          Authorization: `Basic ${getToken()}`\r\n        }\r\n      }).then(() => {\r\n        alert('Registro removido com sucesso.')\r\n      }).catch(error => {\r\n        alert(error)\r\n      })\r\n    } catch (error) {\r\n      alert('Ocorreu um erro ao remover o usuário.')\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserService\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Table, Button, Navbar, Nav, NavItem, NavbarBrand } from 'reactstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { FiArrowLeft } from 'react-icons/fi'\r\n\r\nimport './user.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport User from '../../../models/User'\r\nimport UserService from '../../../_services/user/userService';\r\nconst ListUser = () => {\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const userService = new UserService();\r\n\r\n  useEffect(() => {\r\n    let findUser = true;\r\n    try {\r\n      userService.getUsers().then(users => {\r\n        if (findUser) {\r\n          setUsers(users);\r\n        }\r\n      }).catch((error: string) => {\r\n        alert(error)\r\n      });\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n\r\n    return function cleanup() {\r\n      findUser = false\r\n    }\r\n\r\n  }, [userService])\r\n\r\n  function getUsers() {\r\n    try {\r\n      userService.getUsers().then(users => {\r\n        setUsers(users);\r\n      });\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }\r\n\r\n  const deleteBy = async (event: any, id: number) => {\r\n    event.persist()\r\n    try {\r\n      userService.delete(id).then(() => {\r\n        getUsers()\r\n      });\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"body\">\r\n\r\n      <Navbar color=\"dark\" dark>\r\n        <NavbarBrand href=\"/user/list\">Usuários</NavbarBrand>\r\n        <Nav>\r\n          <NavItem>\r\n            <Link to=\"/user/create\" className=\"btn btn-primary link-menu\">Novo</Link>\r\n          </NavItem>\r\n        </Nav>\r\n      </Navbar>\r\n\r\n      <Table bordered>\r\n        <thead>\r\n          <tr>\r\n            <th className=\"cabecalho\">ID</th>\r\n            <th className=\"cabecalho\">Nome</th>\r\n            <th className=\"cabecalho\">Email</th>\r\n            <th className=\"cabecalho\">Login</th>\r\n            <th className=\"cabecalho\">Ação</th>\r\n          </tr>\r\n        </thead>\r\n        {users.map(user => (\r\n          <tbody key={user._id}>\r\n            <tr>\r\n              <th scope=\"row\" >{user._id}</th>\r\n              <td className=\"row_center\" style={{ width: '20%' }}>{user.name}</td>\r\n              <td className=\"row_center\" style={{ width: '25%' }}>{user.email}</td>\r\n              <td className=\"row_center\" style={{ width: '15%' }}>{user.login}</td>\r\n              <td><div className=\"ml-auto\">\r\n                <Link className=\"btn btn-warning mr-1\"\r\n                  to={`/user/edit/${user._id}`}>Editar</Link>\r\n                <Button color=\"danger\"\r\n                  onClick={e => deleteBy(e, user._id)}>Remover</Button>\r\n              </div></td>\r\n            </tr>\r\n          </tbody>\r\n        ))}\r\n      </Table>\r\n\r\n      <footer>\r\n        <Link to=\"/dashboard\">\r\n          <FiArrowLeft />\r\n                Voltar\r\n        </Link>\r\n      </footer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ListUser\r\n","import React, { useState, ChangeEvent, FormEvent } from 'react'\r\nimport { Form, FormGroup, Label, Input, Button, Container } from 'reactstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport api from '../../../_services/api';\r\nimport { getToken } from '../../../_services/auth';\r\n\r\nimport './user.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nexport const CreateCategory = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const [inputData, setInputData] = useState({\r\n        login: '',\r\n        password: '',\r\n        name: '',\r\n        email: '',\r\n    });\r\n\r\n    function changeInput(event: ChangeEvent<HTMLInputElement>) {\r\n        const { name, value } = event.target;\r\n        setInputData({ ...inputData, [name]: value });\r\n    }\r\n\r\n    async function changeForm(event: FormEvent) {\r\n        event.preventDefault();\r\n\r\n        const { login, password, name, email } = inputData;\r\n\r\n        const data = { login, password, name, email };\r\n\r\n        await api.post('user', data, {\r\n            headers: {\r\n                'Authorization': `Basic ${getToken()}`\r\n            },\r\n        });\r\n\r\n        alert('Usuário Cadastrado com Sucesso!')\r\n\r\n        history.goBack();\r\n    }\r\n\r\n    function cancel() {\r\n        history.goBack();\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <div id=\"page-create-user\" className=\"body_form\">\r\n                <Form onSubmit={changeForm}>\r\n                    <FormGroup>\r\n                        <Label className=\"strong\">Nome:</Label>\r\n                        <Input\r\n                            id=\"nome\"\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            placeholder=\"Nome\"\r\n                            value={inputData.name}\r\n                            required\r\n                            onChange={changeInput}></Input>\r\n\r\n                        <Label className=\"strong\">Email:</Label>\r\n                        <Input\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Email\"\r\n                            value={inputData.email}\r\n                            onChange={changeInput}></Input>\r\n\r\n                        <Label className=\"strong\">Login:</Label>\r\n                        <Input\r\n                            id=\"login\"\r\n                            type=\"text\"\r\n                            name=\"login\"\r\n                            placeholder=\"Login\"\r\n                            maxLength={11}\r\n                            value={inputData.login}\r\n                            required\r\n                            onChange={changeInput}></Input>\r\n\r\n                        <Label className=\"strong\">Senha:</Label>\r\n                        <Input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Senha\"\r\n                            value={inputData.password}\r\n                            required\r\n                            onChange={changeInput}></Input>\r\n                    </FormGroup>\r\n\r\n                    <Button id=\"cancelar\" onClick={cancel}>Cancelar</Button>\r\n                    <Button type=\"submit\">Salvar</Button>\r\n                </Form>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\nexport default CreateCategory;\r\n","import React, { useState, useEffect, ChangeEvent, FormEvent } from 'react'\r\nimport { Form, FormGroup, Label, Input, Button } from 'reactstrap'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport api from '../../../_services/api'\r\nimport { getToken } from '../../../_services/auth'\r\n\r\nexport const EditCategory = () => {\r\n  const history = useHistory()\r\n  const { id } : any = useParams();\r\n\r\n  const [inputData, setInputData] = useState({\r\n    login: '',\r\n    password: '',\r\n    name: '',\r\n    email: '',\r\n  })\r\n\r\n  function changeInput(event: ChangeEvent<HTMLInputElement>) {\r\n    const { name, value } = event.target\r\n    setInputData({ ...inputData, [name]: value })\r\n  }\r\n\r\n  async function changeForm(event: FormEvent) {\r\n    event.preventDefault()\r\n\r\n    const {\r\n      login,\r\n      password,\r\n      name,\r\n      email\r\n    } = inputData\r\n\r\n    const data = {\r\n      login,\r\n      password,\r\n      name,\r\n      email\r\n    }\r\n\r\n    await api.put(`user/${id}`, data, {\r\n      headers: {\r\n        Authorization: `Basic ${getToken()}`\r\n      }\r\n    })\r\n\r\n    alert('Usuário Alterado com Sucesso!')\r\n\r\n    history.goBack()\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadUser(id)\r\n  }, [id])\r\n\r\n  async function loadUser(id: string) {\r\n    const response = await api.get(`user/${id}`, {\r\n      headers: {\r\n        Authorization: `Basic ${getToken()}`\r\n      }\r\n    })\r\n\r\n    const user = {\r\n      login: response.data.login,\r\n      password: response.data.password,\r\n      name: response.data.name,\r\n      email: response.data.email\r\n    }\r\n\r\n    setInputData(user)\r\n  }\r\n\r\n  function cancel() {\r\n    history.goBack()\r\n  }\r\n\r\n  return (\r\n    <div id=\"page-create-user\" className=\"body_form\">\r\n      <Form onSubmit={changeForm}>\r\n        <FormGroup>\r\n          <Label className=\"strong\">Nome:</Label>\r\n          <Input\r\n            id=\"name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Nome\"\r\n            value={inputData.name}\r\n            required\r\n            onChange={changeInput}></Input>\r\n\r\n          <Label className=\"strong\">Email:</Label>\r\n          <Input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            value={inputData.email}\r\n            onChange={changeInput}></Input>\r\n\r\n          <Label className=\"strong\">Login:</Label>\r\n          <Input\r\n            id=\"login\"\r\n            type=\"text\"\r\n            name=\"login\"\r\n            placeholder=\"Login\"\r\n            maxLength={11}\r\n            value={inputData.login}\r\n            required\r\n            onChange={changeInput}></Input>\r\n\r\n          <Label className=\"strong\">Senha:</Label>\r\n          <Input\r\n            id=\"password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Senha\"\r\n            value={inputData.password}\r\n            required\r\n            onChange={changeInput}></Input>\r\n        </FormGroup>\r\n\r\n        <Button id=\"cancelar\" onClick={cancel}>Cancelar</Button>\r\n        <Button type=\"submit\">Alterar</Button>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\nexport default EditCategory\r\n","import React from 'react';\r\nimport { Route, BrowserRouter, Switch, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './_services/auth';\r\n\r\nimport Login from './_components/public/login/Login';\r\nimport Dashboard from './_components/admin/dashboard/Dashboard';\r\nimport ListUser from './_components/admin/user/ListUser';\r\nimport CreateUser from './_components/admin/user/CreateUser';\r\nimport EditUser from './_components/admin/user/EditUser';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        isAuthenticated() ? (\r\n            <Component {...props} />\r\n        ) : (\r\n                <Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n            )\r\n    )} />\r\n)\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route component={Login} path=\"/\" exact />\r\n                <PrivateRoute component={Dashboard} path=\"/dashboard\" exact />\r\n                <PrivateRoute component={ListUser} path=\"/user/list\" />\r\n                <PrivateRoute component={CreateUser} path=\"/user/create\" />\r\n                <PrivateRoute component={EditUser} path=\"/user/edit/:id\" />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default Routes;","import React from 'react';\r\nimport './App.css';\r\nimport Routes from './routes';\r\n\r\nfunction App() {\r\n  return (\r\n      <div>\r\n        <Routes />\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}